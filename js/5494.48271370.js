"use strict";(globalThis["webpackChunkidsantri_app"]=globalThis["webpackChunkidsantri_app"]||[]).push([[5494],{5494:(e,a,t)=>{t.r(a),t.d(a,{default:()=>A});t(7590);var s=t(1347),r=t(8633),l=t(1131),o=t(455),n=t(4187),u=t(9463),i=t(4257),d=t(5469);const c={class:""},p={class:"q-gutter-y-md column"},g={__name:"LoginPage",emits:["title","errors"],setup(e,{emit:a}){const t=(0,o.rd)(),g=(0,n.KR)(""),m=(0,n.KR)(""),b=(0,n.KR)(!1),h=a;h("title","Login"),h("errors",[]);const f=async()=>{h("errors",[]);try{b.value=!0;const e=await l.A.post("login",{login:g.value,password:m.value});(0,i.A)().token=e.data.token,(0,i.A)().user=e.data.user,(0,i.A)().roles=e.data.roles,(0,i.A)().permissions=e.data.permissions,(0,d.VX)(e.data.message);const a=e.data.user.confirmed_at;a?t.push("/"):t.push("/profile")}catch(e){h("errors",(0,u.$)(e.response?.data?.message||"Terjadi sebuah kesalahan"))}finally{b.value=!1}};return(0,s.$u)((()=>{const e=document.querySelector("ul > li > span > a");e&&e.addEventListener("click",(async a=>{h("errors",[]),a.preventDefault();const t=e.href.replace("%2540","@");try{b.value=!0;const e=await l.A.get(t),a=(0,d.Wv)(e.data.message,0);await a}catch(s){h("errors",(0,u.$)(s.response?.data?.message||"Terjadi sebuah kesalahan"))}finally{b.value=!1}}))})),(e,a)=>{const t=(0,s.g2)("q-input"),l=(0,s.g2)("q-btn"),o=(0,s.g2)("q-card-section"),n=(0,s.g2)("q-card"),u=(0,s.g2)("q-spinner-cube");return(0,s.uX)(),(0,s.CE)("div",c,[(0,s.Lk)("form",{onSubmit:(0,r.D$)(f,["prevent"])},[(0,s.Lk)("div",p,[(0,s.bF)(t,{"bg-color":"green-1",outlined:"",modelValue:g.value,"onUpdate:modelValue":a[0]||(a[0]=e=>g.value=e),required:"",label:"Login",autocomplete:"off",autocapitalize:"none",hint:"Username atau email Anda!"},null,8,["modelValue"]),(0,s.bF)(t,{id:"password","bg-color":"green-1",outlined:"",modelValue:m.value,"onUpdate:modelValue":a[1]||(a[1]=e=>m.value=e),type:"password",required:"",label:"Password",autocomplete:"off",autocapitalize:"none",readonly:"",onfocus:"this.removeAttribute('readonly');",onblur:"this.setAttribute('readonly','true');",hint:"Password atau kata sandi"},null,8,["modelValue"]),(0,s.bF)(l,{type:"submit",class:"full-width q-pa-sm text-green-10",color:"green-3",label:"Login"}),(0,s.bF)(n,{class:"my-card",flat:""},{default:(0,s.k6)((()=>[(0,s.bF)(o,{class:"text-green-10 text-center bg-green-2 q-pa-sm"},{default:(0,s.k6)((()=>[(0,s.bF)(l,{outline:"",color:"green-10",class:"full-width text-weight-regular","no-caps":"",to:"/register",label:"Belum punya akun? Daftar!"}),(0,s.bF)(l,{outline:"",color:"green-10",class:"full-width text-weight-regular q-mt-sm","no-caps":"",to:"/forgot-password",label:"Lupa password? Atur ulang!"})])),_:1})])),_:1})])],32),(0,s.bo)((0,s.bF)(u,{color:"green-12",size:"14em",class:"absolute-center"},null,512),[[r.aG,b.value]])])}}};var m=t(6395),b=t(2677),h=t(3341),f=t(222),v=t(1402),w=t(272),k=t.n(w);const y=g,A=y;k()(g,"components",{QInput:m.A,QBtn:b.A,QCard:h.A,QCardSection:f.A,QSpinnerCube:v.A})}}]);