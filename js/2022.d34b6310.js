"use strict";(globalThis["webpackChunkidsantri_app"]=globalThis["webpackChunkidsantri_app"]||[]).push([[2022],{2022:(a,e,l)=>{l.r(e),l.d(e,{default:()=>P});var t=l(1347),u=l(7763),n=l(1734),s=l(4187),i=l(455),o=l(5225),d=l(6397);const r=(0,t.Lk)("div",{class:"flex items-center"},[(0,t.Lk)("div",{class:"text-subtitle1"},"Data Murid")],-1),b={class:"row",style:{"max-width":"1400px"}},v={class:"col-12 col-md-6 q-pa-sm"},k={key:0,class:"q-pa-md"},c=["src"],_={key:0,class:"q-pa-md"},g={key:1},m={key:0},f={key:1},F={__name:"KelasIndex",setup(a){const e=(0,s.KR)(0),l=(0,i.lq)(),F=l.params.id,p=(0,s.KR)({}),q=(0,s.KR)({}),A=(0,s.KR)({}),w=(0,s.KR)(!1),x=(0,s.KR)(!1),y=(0,s.KR)({}),Q=(0,s.KR)(!1);function h(){x.value=!1,L(),e.value++}function C(){y.value=p.value,y.value.santri_id=A.value.id,y.value.nama=A.value.nama,x.value=!0}async function K(a){const e=await(0,d.A)({endPoint:`kelas/${F}/set-active`,data:{aktif:a},confirm:!1});e||(Q.value=1!=a)}async function L(){const a=await(0,n.A)({endPoint:`kelas/${F}`,loading:w});p.value=a.kelas,A.value=a.santri,Q.value=!!p.value.aktif,q.value={"Tahun Ajaran":p.value.th_ajaran_h+" | "+p.value.th_ajaran_m,Tingkat:p.value.tingkat,Kelas:p.value.kelas,"No. Absen":p.value.no_absen,Aktif:p.value.aktif,Keterangan:p.value.keterangan||"-"};const e=await(0,n.A)({endPoint:`images/santri/${A.value.id}`});A.value.image=e.image_url}return(0,t.sV)((async()=>{await L()})),(a,l)=>{const n=(0,t.g2)("q-card-section"),s=(0,t.g2)("q-toolbar-title"),i=(0,t.g2)("q-btn"),d=(0,t.g2)("q-toolbar"),F=(0,t.g2)("q-spinner-cube"),T=(0,t.g2)("q-avatar"),W=(0,t.g2)("q-item-section"),R=(0,t.g2)("q-item-label"),X=(0,t.g2)("q-item"),$=(0,t.g2)("q-separator"),E=(0,t.g2)("q-list"),I=(0,t.g2)("q-toggle"),S=(0,t.g2)("q-markup-table"),V=(0,t.g2)("q-card"),z=(0,t.g2)("q-route-tab"),P=(0,t.g2)("q-tabs"),j=(0,t.g2)("router-view"),D=(0,t.g2)("q-dialog"),M=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(M,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(V,{class:""},{default:(0,t.k6)((()=>[(0,t.bF)(n,{class:"bg-green-8 text-green-11 q-pa-sm"},{default:(0,t.k6)((()=>[r])),_:1}),(0,t.bF)(n,{class:"no-padding"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",b,[(0,t.Lk)("div",v,[(0,t.bF)(V,null,{default:(0,t.k6)((()=>[(0,t.bF)(n,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(d,{class:"bg-green-1"},{default:(0,t.k6)((()=>[(0,t.bF)(s,{class:"text-subtitle1"},{default:(0,t.k6)((()=>[(0,t.eW)(" Identitas ")])),_:1}),(0,t.bF)(i,{round:"",dense:"",flat:"",icon:"sync",onClick:L})])),_:1}),w.value?((0,t.uX)(),(0,t.CE)("div",k,[(0,t.bF)(F,{color:"green-12",size:"8em",class:"flex q-mx-auto"})])):((0,t.uX)(),(0,t.Wv)(E,{key:1,dense:""},{default:(0,t.k6)((()=>[(0,t.bF)(X,null,{default:(0,t.k6)((()=>[(0,t.bF)(W,{avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(T,{class:"d-flex"},{default:(0,t.k6)((()=>[(0,t.Lk)("img",{src:A.value?.image||"/user-default.png",ratio:3/4},null,8,c)])),_:1})])),_:1}),(0,t.bF)(W,null,{default:(0,t.k6)((()=>[(0,t.bF)(R,{overline:""},{default:(0,t.k6)((()=>[(0,t.eW)(" Santri ")])),_:1}),(0,t.bF)(R,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,u.v_)(A.value.nama)+" ("+(0,u.v_)(A.value.sex)+") ",1)])),_:1}),(0,t.bF)(R,{caption:"",lines:"1",class:"text-italic"},{default:(0,t.k6)((()=>[(0,t.eW)((0,u.v_)(A.value.data_akhir),1)])),_:1})])),_:1}),(0,t.bF)(W,{avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(i,{outline:"",color:"green",to:`/santri/${A.value.id}`},{default:(0,t.k6)((()=>[(0,t.Lk)("small",null,(0,u.v_)(A.value.id),1)])),_:1},8,["to"])])),_:1})])),_:1}),(0,t.bF)($,{inset:"item"}),(0,t.bF)(X,null,{default:(0,t.k6)((()=>[(0,t.bF)(W,{top:"",avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(T)])),_:1}),(0,t.bF)(W,null,{default:(0,t.k6)((()=>[(0,t.bF)(R,{overline:""},{default:(0,t.k6)((()=>[(0,t.eW)(" Wali ")])),_:1}),(0,t.bF)(R,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,u.v_)(A.value.wali_nama)+" ("+(0,u.v_)(A.value.wali_sex)+"; "+(0,u.v_)(A.value.wali_status)+") ",1)])),_:1})])),_:1}),(0,t.bF)(W,{avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(i,{outline:"",color:"green",to:`/wali/${A.value.wali_id}`},{default:(0,t.k6)((()=>[(0,t.Lk)("small",null,(0,u.v_)(A.value.wali_id),1)])),_:1},8,["to"])])),_:1})])),_:1}),(0,t.bF)($,{inset:"item"}),(0,t.bF)(X,null,{default:(0,t.k6)((()=>[(0,t.bF)(W,{top:"",avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(T)])),_:1}),(0,t.bF)(W,null,{default:(0,t.k6)((()=>[(0,t.bF)(R,{overline:""},{default:(0,t.k6)((()=>[(0,t.eW)(" Orang Tua ")])),_:1}),(0,t.bF)(R,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,u.v_)(A.value.ayah)+" | "+(0,u.v_)(A.value.ibu),1)])),_:1})])),_:1}),(0,t.bF)(W,{avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(i,{outline:"",color:"green",to:`/ortu/${A.value.ortu_id}`},{default:(0,t.k6)((()=>[(0,t.Lk)("small",null,(0,u.v_)(A.value.ortu_id),1)])),_:1},8,["to"])])),_:1})])),_:1})])),_:1}))])),_:1}),(0,t.bF)($),(0,t.bF)(n,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(d,{class:"bg-green-1"},{default:(0,t.k6)((()=>[(0,t.bF)(s,{class:"text-subtitle1"},{default:(0,t.k6)((()=>[(0,t.eW)(" Kelas ")])),_:1}),(0,t.bF)(i,{class:"q-px-md",outline:"",dense:"","icon-right":"edit",onClick:C,label:"Edit","no-caps":""})])),_:1}),w.value?((0,t.uX)(),(0,t.CE)("div",_,[(0,t.bF)(F,{color:"green-12",size:"8em",class:"flex q-mx-auto"})])):((0,t.uX)(),(0,t.CE)("div",g,[(0,t.bF)(S,{flat:""},{default:(0,t.k6)((()=>[(0,t.Lk)("tbody",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(q.value,((a,e)=>((0,t.uX)(),(0,t.CE)("tr",{key:e},[(0,t.Lk)("td",null,(0,u.v_)(e),1),(0,t.Lk)("td",null,["Aktif"==e?((0,t.uX)(),(0,t.CE)("span",m,[(0,t.bF)(I,{modelValue:Q.value,"onUpdate:modelValue":[l[0]||(l[0]=a=>Q.value=a),K],color:"green"},null,8,["modelValue","onUpdate:modelValue"])])):((0,t.uX)(),(0,t.CE)("span",f,(0,u.v_)(a),1))])])))),128))])])),_:1})]))])),_:1})])),_:1})]),((0,t.uX)(),(0,t.CE)("div",{class:"col-12 col-md-6 q-pa-sm",key:e.value},[(0,t.bF)(V,null,{default:(0,t.k6)((()=>[(0,t.bF)(n,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(P,{"no-caps":"","outside-arrows":"","mobile-arrows":"",class:"bg-green-7 text-green-3","indicator-color":"green-11","active-color":"green-11"},{default:(0,t.k6)((()=>[(0,t.bF)(z,{name:"riwayat",label:"Riwayat",to:`/madrasah/kelas/${p.value.id}/riwayat`},null,8,["to"]),(0,t.bF)(z,{name:"izin",label:"Izin",to:`/madrasah/kelas/${p.value.id}/izin`},null,8,["to"]),(0,t.bF)(z,{name:"nilai",label:"Nilai Mapel",to:`/madrasah/kelas/${p.value.id}/nilai-mapel`},null,8,["to"])])),_:1})])),_:1}),(0,t.bF)(n,{class:"q-px-sm q-pb-sm q-pt-none"},{default:(0,t.k6)((()=>[(0,t.bF)(j)])),_:1})])),_:1})]))])])),_:1})])),_:1}),(0,t.bF)(D,{modelValue:x.value,"onUpdate:modelValue":l[2]||(l[2]=a=>x.value=a)},{default:(0,t.k6)((()=>[(0,t.bF)(o.A,{data:y.value,"is-new":!1,title:"Input Kelas",onSuccessSubmit:h,onSuccessDelete:l[1]||(l[1]=e=>a.$router.go(-1))},null,8,["data"])])),_:1},8,["modelValue"])])),_:1})}}};var p=l(5013),q=l(3341),A=l(222),w=l(6739),x=l(4629),y=l(2677),Q=l(1402),h=l(3766),C=l(2589),K=l(4958),L=l(5305),T=l(9039),W=l(6915),R=l(4362),X=l(5725),$=l(8805),E=l(6641),I=l(45),S=l(272),V=l.n(S);const z=F,P=z;V()(F,"components",{QPage:p.A,QCard:q.A,QCardSection:A.A,QToolbar:w.A,QToolbarTitle:x.A,QBtn:y.A,QSpinnerCube:Q.A,QList:h.A,QItem:C.A,QItemSection:K.A,QAvatar:L.A,QItemLabel:T.A,QSeparator:W.A,QMarkupTable:R.A,QToggle:X.A,QTabs:$.A,QRouteTab:E.A,QDialog:I.A})}}]);