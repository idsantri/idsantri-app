"use strict";(globalThis["webpackChunkidsantri_app"]=globalThis["webpackChunkidsantri_app"]||[]).push([[2022],{2022:(a,e,l)=>{l.r(e),l.d(e,{default:()=>P});l(7590);var t=l(1347),u=l(7763),n=l(1734),s=l(4187),i=l(455),d=l(5225),o=l(6397);const r=(0,t.Lk)("div",{class:"flex items-center"},[(0,t.Lk)("div",{class:"text-subtitle1"},"Data Murid")],-1),v={class:"row",style:{"max-width":"1200px"}},b={class:"col-12 col-md-6 q-pa-sm"},k={key:0,class:"q-pa-md"},c=["src"],_={key:0,class:"q-pa-md"},f={key:1},g={key:0},m={key:1},F={__name:"KelasIndex",setup(a){const e=(0,s.KR)(0),l=(0,i.lq)(),F=l.params.id,p=(0,s.KR)({}),q=(0,s.KR)({}),A=(0,s.KR)({}),w=(0,s.KR)(!1),h=(0,s.KR)(!1),y=(0,s.KR)({}),C=(0,s.KR)(!1);function Q(){h.value=!1,L(),e.value++}function x(){y.value=p.value,y.value.santri_id=A.value.id,y.value.nama=A.value.nama,h.value=!0}async function K(a){const e=await(0,o.A)({endPoint:`kelas/${F}/set-active`,data:{aktif:a},confirm:!1});e||(C.value=1!=a)}async function L(){const a=await(0,n.A)({endPoint:`kelas/${F}`,loading:w});p.value=a.kelas,A.value=a.santri,C.value=!!p.value.aktif,q.value={"Tahun Ajaran":p.value.th_ajaran_h+" | "+p.value.th_ajaran_m,Tingkat:p.value.tingkat,Kelas:p.value.kelas,"No. Absen":p.value.no_absen,Aktif:p.value.aktif,Keterangan:p.value.keterangan||"-"};const e=await(0,n.A)({endPoint:`images/santri/${A.value.id}`});A.value.image=e.image_url}return(0,t.sV)((async()=>{await L()})),(a,l)=>{const n=(0,t.g2)("q-card-section"),s=(0,t.g2)("q-toolbar-title"),i=(0,t.g2)("q-btn"),o=(0,t.g2)("q-toolbar"),F=(0,t.g2)("q-spinner-cube"),$=(0,t.g2)("q-avatar"),T=(0,t.g2)("q-item-section"),W=(0,t.g2)("q-item-label"),R=(0,t.g2)("q-item"),X=(0,t.g2)("q-separator"),E=(0,t.g2)("q-list"),I=(0,t.g2)("q-toggle"),S=(0,t.g2)("q-markup-table"),V=(0,t.g2)("q-card"),z=(0,t.g2)("q-route-tab"),P=(0,t.g2)("q-tabs"),j=(0,t.g2)("router-view"),D=(0,t.g2)("q-dialog"),U=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(U,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(V,{class:""},{default:(0,t.k6)((()=>[(0,t.bF)(n,{class:"bg-green-8 text-green-11 q-pa-sm"},{default:(0,t.k6)((()=>[r])),_:1}),(0,t.bF)(n,{class:"no-padding"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",v,[(0,t.Lk)("div",b,[(0,t.bF)(V,null,{default:(0,t.k6)((()=>[(0,t.bF)(n,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(o,{class:"bg-green-1"},{default:(0,t.k6)((()=>[(0,t.bF)(s,null,{default:(0,t.k6)((()=>[(0,t.eW)("Identitas")])),_:1}),(0,t.bF)(i,{round:"",dense:"",flat:"",icon:"sync",onClick:L})])),_:1}),w.value?((0,t.uX)(),(0,t.CE)("div",k,[(0,t.bF)(F,{color:"green-12",size:"8em",class:"flex q-mx-auto"})])):((0,t.uX)(),(0,t.Wv)(E,{key:1,dense:""},{default:(0,t.k6)((()=>[(0,t.bF)(R,null,{default:(0,t.k6)((()=>[(0,t.bF)(T,{avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)($,{class:"d-flex"},{default:(0,t.k6)((()=>[(0,t.Lk)("img",{src:A.value?.image||"/user-default.png",ratio:3/4},null,8,c)])),_:1})])),_:1}),(0,t.bF)(T,null,{default:(0,t.k6)((()=>[(0,t.bF)(W,{overline:""},{default:(0,t.k6)((()=>[(0,t.eW)(" Santri ")])),_:1}),(0,t.bF)(W,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,u.v_)(A.value.nama)+" ("+(0,u.v_)(A.value.sex)+") ",1)])),_:1}),(0,t.bF)(W,{caption:"",lines:"1",class:"text-italic"},{default:(0,t.k6)((()=>[(0,t.eW)((0,u.v_)(A.value.data_akhir),1)])),_:1})])),_:1}),(0,t.bF)(T,{avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(i,{outline:"",color:"green",onClick:l[0]||(l[0]=e=>a.$router.push(`/santri/${A.value.id}`))},{default:(0,t.k6)((()=>[(0,t.Lk)("small",null,(0,u.v_)(A.value.id),1)])),_:1})])),_:1})])),_:1}),(0,t.bF)(X,{inset:"item"}),(0,t.bF)(R,null,{default:(0,t.k6)((()=>[(0,t.bF)(T,{top:"",avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)($)])),_:1}),(0,t.bF)(T,null,{default:(0,t.k6)((()=>[(0,t.bF)(W,{overline:""},{default:(0,t.k6)((()=>[(0,t.eW)(" Wali ")])),_:1}),(0,t.bF)(W,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,u.v_)(A.value.wali_nama)+" ("+(0,u.v_)(A.value.wali_sex)+"; "+(0,u.v_)(A.value.wali_status)+") ",1)])),_:1})])),_:1}),(0,t.bF)(T,{avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(i,{outline:"",color:"green",onClick:l[1]||(l[1]=e=>a.$router.push(`/wali/${A.value.wali_id}`))},{default:(0,t.k6)((()=>[(0,t.Lk)("small",null,(0,u.v_)(A.value.wali_id),1)])),_:1})])),_:1})])),_:1}),(0,t.bF)(X,{inset:"item"}),(0,t.bF)(R,null,{default:(0,t.k6)((()=>[(0,t.bF)(T,{top:"",avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)($)])),_:1}),(0,t.bF)(T,null,{default:(0,t.k6)((()=>[(0,t.bF)(W,{overline:""},{default:(0,t.k6)((()=>[(0,t.eW)(" Orang Tua ")])),_:1}),(0,t.bF)(W,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,u.v_)(A.value.ayah)+" | "+(0,u.v_)(A.value.ibu),1)])),_:1})])),_:1}),(0,t.bF)(T,{avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(i,{outline:"",color:"green",onClick:l[2]||(l[2]=e=>a.$router.push(`/ortu/${A.value.ortu_id}`))},{default:(0,t.k6)((()=>[(0,t.Lk)("small",null,(0,u.v_)(A.value.ortu_id),1)])),_:1})])),_:1})])),_:1})])),_:1}))])),_:1}),(0,t.bF)(X),(0,t.bF)(n,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(o,{class:"bg-green-1"},{default:(0,t.k6)((()=>[(0,t.bF)(s,null,{default:(0,t.k6)((()=>[(0,t.eW)("Kelas")])),_:1}),(0,t.bF)(i,{flat:"",round:"",dense:"",icon:"edit",onClick:x})])),_:1}),w.value?((0,t.uX)(),(0,t.CE)("div",_,[(0,t.bF)(F,{color:"green-12",size:"8em",class:"flex q-mx-auto"})])):((0,t.uX)(),(0,t.CE)("div",f,[(0,t.bF)(S,{flat:""},{default:(0,t.k6)((()=>[(0,t.Lk)("tbody",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(q.value,((a,e)=>((0,t.uX)(),(0,t.CE)("tr",{key:e},[(0,t.Lk)("td",null,(0,u.v_)(e),1),(0,t.Lk)("td",null,["Aktif"==e?((0,t.uX)(),(0,t.CE)("span",g,[(0,t.bF)(I,{modelValue:C.value,"onUpdate:modelValue":[l[3]||(l[3]=a=>C.value=a),K],color:"green"},null,8,["modelValue","onUpdate:modelValue"])])):((0,t.uX)(),(0,t.CE)("span",m,(0,u.v_)(a),1))])])))),128))])])),_:1})]))])),_:1})])),_:1})]),((0,t.uX)(),(0,t.CE)("div",{class:"col-12 col-md-6 q-pa-sm",key:e.value},[(0,t.bF)(V,null,{default:(0,t.k6)((()=>[(0,t.bF)(n,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(P,{"no-caps":"","outside-arrows":"","mobile-arrows":"",class:"bg-green-7 text-green-11"},{default:(0,t.k6)((()=>[(0,t.bF)(z,{name:"riwayat",label:"Riwayat",to:`/madrasah/kelas/${p.value.id}/riwayat`},null,8,["to"]),(0,t.bF)(z,{name:"izin",label:"Izin",to:`/madrasah/kelas/${p.value.id}/izin`},null,8,["to"]),(0,t.bF)(z,{name:"nilai",label:"Nilai",to:`/madrasah/kelas/${p.value.id}/nilai`,disable:""},null,8,["to"])])),_:1})])),_:1}),(0,t.bF)(n,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(j)])),_:1})])),_:1})]))])])),_:1})])),_:1}),(0,t.bF)(D,{modelValue:h.value,"onUpdate:modelValue":l[5]||(l[5]=a=>h.value=a)},{default:(0,t.k6)((()=>[(0,t.bF)(d.A,{data:y.value,"is-new":!1,title:"Input Kelas",onSuccessSubmit:Q,onSuccessDelete:l[4]||(l[4]=e=>a.$router.go(-1))},null,8,["data"])])),_:1},8,["modelValue"])])),_:1})}}};var p=l(5013),q=l(3341),A=l(222),w=l(6739),h=l(4629),y=l(2677),C=l(1402),Q=l(3766),x=l(2589),K=l(4958),L=l(5305),$=l(9039),T=l(6915),W=l(4362),R=l(5725),X=l(8805),E=l(6641),I=l(45),S=l(272),V=l.n(S);const z=F,P=z;V()(F,"components",{QPage:p.A,QCard:q.A,QCardSection:A.A,QToolbar:w.A,QToolbarTitle:h.A,QBtn:y.A,QSpinnerCube:C.A,QList:Q.A,QItem:x.A,QItemSection:K.A,QAvatar:L.A,QItemLabel:$.A,QSeparator:T.A,QMarkupTable:W.A,QToggle:R.A,QTabs:X.A,QRouteTab:E.A,QDialog:I.A})}}]);