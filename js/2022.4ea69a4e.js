"use strict";(globalThis["webpackChunkidsantri_app"]=globalThis["webpackChunkidsantri_app"]||[]).push([[2022],{2022:(a,e,l)=>{l.r(e),l.d(e,{default:()=>P});var t=l(1347),u=l(7763),n=l(4187),s=l(455),i=l(1734),o=l(6397),d=l(5225);const r=(0,t.Lk)("div",{class:"flex items-center"},[(0,t.Lk)("div",{class:"text-subtitle1"},"Data Murid")],-1),b={class:"row",style:{"max-width":"1400px"}},v={class:"col-12 col-md-6 q-pa-sm"},c={key:0,class:"q-pa-md"},k={key:0,class:"q-pa-md"},_={key:1},g={key:0},m={key:1},f={__name:"KelasIndex",setup(a){const e=(0,n.KR)(0),l=(0,s.lq)(),f=l.params.id,F=(0,n.KR)({}),p=(0,n.KR)({}),q=(0,n.KR)({}),A=(0,n.KR)(!1),w=(0,n.KR)(!1),x=(0,n.KR)({}),Q=(0,n.KR)(!1);function y(){w.value=!1,K(),e.value++}function h(){x.value=F.value,x.value.santri_id=q.value.id,x.value.nama=q.value.nama,w.value=!0}async function C(a){const e=await(0,o.A)({endPoint:`kelas/${f}/set-active`,data:{aktif:a},confirm:!1});e||(Q.value=1!=a)}async function K(){const a=await(0,i.A)({endPoint:`kelas/${f}`,loading:A});F.value=a.kelas,q.value=a.santri,Q.value=!!F.value.aktif,p.value={"Tahun Ajaran":F.value.th_ajaran_h+" | "+F.value.th_ajaran_m,Tingkat:F.value.tingkat,Kelas:F.value.kelas,"No. Absen":F.value.no_absen,Aktif:F.value.aktif,Keterangan:F.value.keterangan||"-"};const e=await(0,i.A)({endPoint:`images/santri/${q.value.id}`});q.value.image=e.image_url}return(0,t.sV)((async()=>{await K()})),(a,l)=>{const n=(0,t.g2)("q-card-section"),s=(0,t.g2)("q-toolbar-title"),i=(0,t.g2)("q-btn"),o=(0,t.g2)("q-toolbar"),f=(0,t.g2)("q-spinner-cube"),L=(0,t.g2)("q-img"),T=(0,t.g2)("q-avatar"),W=(0,t.g2)("q-item-section"),R=(0,t.g2)("q-item-label"),X=(0,t.g2)("q-item"),$=(0,t.g2)("q-separator"),E=(0,t.g2)("q-list"),I=(0,t.g2)("q-toggle"),S=(0,t.g2)("q-markup-table"),V=(0,t.g2)("q-card"),z=(0,t.g2)("q-route-tab"),P=(0,t.g2)("q-tabs"),j=(0,t.g2)("router-view"),D=(0,t.g2)("q-dialog"),M=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(M,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(V,{class:""},{default:(0,t.k6)((()=>[(0,t.bF)(n,{class:"bg-green-8 text-green-11 q-pa-sm"},{default:(0,t.k6)((()=>[r])),_:1}),(0,t.bF)(n,{class:"no-padding"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",b,[(0,t.Lk)("div",v,[(0,t.bF)(V,null,{default:(0,t.k6)((()=>[(0,t.bF)(n,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(o,{class:"bg-green-1"},{default:(0,t.k6)((()=>[(0,t.bF)(s,{class:"text-subtitle1"},{default:(0,t.k6)((()=>[(0,t.eW)(" Identitas ")])),_:1}),(0,t.bF)(i,{round:"",dense:"",flat:"",icon:"sync",onClick:K})])),_:1}),A.value?((0,t.uX)(),(0,t.CE)("div",c,[(0,t.bF)(f,{color:"green-12",size:"8em",class:"flex q-mx-auto"})])):((0,t.uX)(),(0,t.Wv)(E,{key:1,dense:""},{default:(0,t.k6)((()=>[(0,t.bF)(X,null,{default:(0,t.k6)((()=>[(0,t.bF)(W,{avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(T,{class:"d-flex"},{default:(0,t.k6)((()=>[(0,t.bF)(L,{src:q.value?.image||"/user-default.png",ratio:1,cover:""},null,8,["src"])])),_:1})])),_:1}),(0,t.bF)(W,null,{default:(0,t.k6)((()=>[(0,t.bF)(R,{overline:""},{default:(0,t.k6)((()=>[(0,t.eW)(" Santri ")])),_:1}),(0,t.bF)(R,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,u.v_)(q.value.nama)+" ("+(0,u.v_)(q.value.sex)+") ",1)])),_:1}),(0,t.bF)(R,{caption:"",lines:"1",class:"text-italic"},{default:(0,t.k6)((()=>[(0,t.eW)((0,u.v_)(q.value.data_akhir),1)])),_:1})])),_:1}),(0,t.bF)(W,{avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(i,{outline:"",color:"green",to:`/santri/${q.value.id}`},{default:(0,t.k6)((()=>[(0,t.Lk)("small",null,(0,u.v_)(q.value.id),1)])),_:1},8,["to"])])),_:1})])),_:1}),(0,t.bF)($,{inset:"item"}),(0,t.bF)(X,null,{default:(0,t.k6)((()=>[(0,t.bF)(W,{top:"",avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(T)])),_:1}),(0,t.bF)(W,null,{default:(0,t.k6)((()=>[(0,t.bF)(R,{overline:""},{default:(0,t.k6)((()=>[(0,t.eW)(" Wali ")])),_:1}),(0,t.bF)(R,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,u.v_)(q.value.wali_nama)+" ("+(0,u.v_)(q.value.wali_sex)+"; "+(0,u.v_)(q.value.wali_status)+") ",1)])),_:1})])),_:1}),(0,t.bF)(W,{avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(i,{outline:"",color:"green",to:`/wali/${q.value.wali_id}`},{default:(0,t.k6)((()=>[(0,t.Lk)("small",null,(0,u.v_)(q.value.wali_id),1)])),_:1},8,["to"])])),_:1})])),_:1}),(0,t.bF)($,{inset:"item"}),(0,t.bF)(X,null,{default:(0,t.k6)((()=>[(0,t.bF)(W,{top:"",avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(T)])),_:1}),(0,t.bF)(W,null,{default:(0,t.k6)((()=>[(0,t.bF)(R,{overline:""},{default:(0,t.k6)((()=>[(0,t.eW)(" Orang Tua ")])),_:1}),(0,t.bF)(R,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,u.v_)(q.value.ayah)+" | "+(0,u.v_)(q.value.ibu),1)])),_:1})])),_:1}),(0,t.bF)(W,{avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(i,{outline:"",color:"green",to:`/ortu/${q.value.ortu_id}`},{default:(0,t.k6)((()=>[(0,t.Lk)("small",null,(0,u.v_)(q.value.ortu_id),1)])),_:1},8,["to"])])),_:1})])),_:1})])),_:1}))])),_:1}),(0,t.bF)($),(0,t.bF)(n,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(o,{class:"bg-green-1"},{default:(0,t.k6)((()=>[(0,t.bF)(s,{class:"text-subtitle1"},{default:(0,t.k6)((()=>[(0,t.eW)(" Kelas ")])),_:1}),(0,t.bF)(i,{class:"q-px-md",outline:"",dense:"","icon-right":"edit",onClick:h,label:"Edit","no-caps":""})])),_:1}),A.value?((0,t.uX)(),(0,t.CE)("div",k,[(0,t.bF)(f,{color:"green-12",size:"8em",class:"flex q-mx-auto"})])):((0,t.uX)(),(0,t.CE)("div",_,[(0,t.bF)(S,{flat:""},{default:(0,t.k6)((()=>[(0,t.Lk)("tbody",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(p.value,((a,e)=>((0,t.uX)(),(0,t.CE)("tr",{key:e},[(0,t.Lk)("td",null,(0,u.v_)(e),1),(0,t.Lk)("td",null,["Aktif"==e?((0,t.uX)(),(0,t.CE)("span",g,[(0,t.bF)(I,{modelValue:Q.value,"onUpdate:modelValue":[l[0]||(l[0]=a=>Q.value=a),C],color:"green"},null,8,["modelValue","onUpdate:modelValue"])])):((0,t.uX)(),(0,t.CE)("span",m,(0,u.v_)(a),1))])])))),128))])])),_:1})]))])),_:1})])),_:1})]),((0,t.uX)(),(0,t.CE)("div",{class:"col-12 col-md-6 q-pa-sm",key:e.value},[(0,t.bF)(V,null,{default:(0,t.k6)((()=>[(0,t.bF)(n,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(P,{"no-caps":"","outside-arrows":"","mobile-arrows":"",class:"bg-green-7 text-green-3","indicator-color":"green-11","active-color":"green-11"},{default:(0,t.k6)((()=>[(0,t.bF)(z,{name:"riwayat",label:"Riwayat",to:`/madrasah/kelas/${F.value.id}/riwayat`},null,8,["to"]),(0,t.bF)(z,{name:"izin",label:"Izin",to:`/madrasah/kelas/${F.value.id}/izin`},null,8,["to"]),(0,t.bF)(z,{name:"nilai",label:"Nilai Mapel",to:`/madrasah/kelas/${F.value.id}/nilai-mapel`},null,8,["to"])])),_:1})])),_:1}),(0,t.bF)(n,{class:"q-px-sm q-pb-sm q-pt-none"},{default:(0,t.k6)((()=>[(0,t.bF)(j)])),_:1})])),_:1})]))])])),_:1})])),_:1}),(0,t.bF)(D,{modelValue:w.value,"onUpdate:modelValue":l[2]||(l[2]=a=>w.value=a)},{default:(0,t.k6)((()=>[(0,t.bF)(d.A,{data:x.value,"is-new":!1,title:"Input Kelas",onSuccessSubmit:y,onSuccessDelete:l[1]||(l[1]=e=>a.$router.go(-1))},null,8,["data"])])),_:1},8,["modelValue"])])),_:1})}}};var F=l(5013),p=l(3341),q=l(222),A=l(6739),w=l(4629),x=l(2677),Q=l(1402),y=l(3766),h=l(2589),C=l(4958),K=l(5305),L=l(7472),T=l(9039),W=l(6915),R=l(4362),X=l(5725),$=l(8805),E=l(6641),I=l(45),S=l(272),V=l.n(S);const z=f,P=z;V()(f,"components",{QPage:F.A,QCard:p.A,QCardSection:q.A,QToolbar:A.A,QToolbarTitle:w.A,QBtn:x.A,QSpinnerCube:Q.A,QList:y.A,QItem:h.A,QItemSection:C.A,QAvatar:K.A,QImg:L.A,QItemLabel:T.A,QSeparator:W.A,QMarkupTable:R.A,QToggle:X.A,QTabs:$.A,QRouteTab:E.A,QDialog:I.A})}}]);