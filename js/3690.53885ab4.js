"use strict";(globalThis["webpackChunkidsantri_app"]=globalThis["webpackChunkidsantri_app"]||[]).push([[3690],{3690:(a,e,t)=>{t.r(e),t.d(e,{default:()=>f});t(7590);var l=t(1347),n=t(7763),i=t(1734),r=t(4187),s=t(455);const o=(0,l.Lk)("div",{class:"text-subtitle1 text-green-10"},"Data Murid",-1),d={__name:"ContentTable",setup(a){const e=(0,r.KR)(!1),t=(0,s.lq)(),d=(0,s.rd)(),p=(0,r.KR)([]),k=(0,r.KR)(""),u={thAjaranH:t.params.thAjaranH,tingkatId:t.params.tingkatId,kelas:t.params.kelas};function _(a){d.push(`/madrasah/kelas/${a.id}/riwayat`)}(0,l.sV)((async()=>{if(u.thAjaranH&&u.tingkatId&&u.kelas){const a=await(0,i.A)({endPoint:`murid/${u.thAjaranH}/${u.tingkatId}/${u.kelas}`});p.value=a.murid}else if(u.thAjaranH&&u.tingkatId){const a=await(0,i.A)({endPoint:`murid/${u.thAjaranH}/${u.tingkatId}`,loading:e});p.value=a.murid}else p.value=[]}));const b=[{name:"id",label:"ID Kelas",align:"left",field:"id",sortable:!0},{name:"santri_id",label:"ID Santri",align:"left",field:"santri_id",sortable:!0},{name:"nama",label:"Nama",align:"left",field:"nama",sortable:!0},{name:"alamat",label:"Alamat",align:"left",field:"alamat_pendek",sortable:!0,classes:"alamat"},{name:"pendidikan",label:"Kelas - Tingkat - Absen",align:"left",field:a=>`${a.kelas} ${a.tingkat_id}\n\t\t\t${a.no_absen?" ("+String("0"+a.no_absen).slice(-2)+")":""}`,sortable:!0},{name:"wali",label:"Wali",align:"left",field:"wali_nama",sortable:!0},{name:"ortu",label:"Orang Tua",align:"left",field:a=>`${a.ayah} | ${a.ibu}`,sortable:!0}];return(a,t)=>{const i=(0,l.g2)("q-icon"),r=(0,l.g2)("q-input"),s=(0,l.g2)("q-td"),d=(0,l.g2)("q-tr"),u=(0,l.g2)("q-table");return(0,l.uX)(),(0,l.Wv)(u,{rows:p.value,columns:b,loading:e.value,"rows-per-page-options":[10,25,50,75,100,0],class:"dt",filter:k.value,"no-data-label":"Silakan tentukan Tahun ajaran dan tingkat pendidikan!","no-results-label":"Tidak ditemukan kata kunci yang sesuai dengan pencarian Anda!","row-key":"id",flat:""},{"top-left":(0,l.k6)((()=>[o])),"top-right":(0,l.k6)((()=>[(0,l.bF)(r,{outlined:"",dense:"",debounce:"300",modelValue:k.value,"onUpdate:modelValue":t[0]||(t[0]=a=>k.value=a),placeholder:"Cari"},{append:(0,l.k6)((()=>[(0,l.bF)(i,{name:"search"})])),_:1},8,["modelValue"])])),body:(0,l.k6)((a=>[(0,l.bF)(d,{props:a,onClick:e=>_(a.row),style:{cursor:"pointer"}},{default:(0,l.k6)((()=>[(0,l.bF)(s,{key:"id",props:a},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(a.row.id),1)])),_:2},1032,["props"]),(0,l.bF)(s,{key:"id",props:a},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(a.row.santri_id),1)])),_:2},1032,["props"]),(0,l.bF)(s,{key:"nama",props:a},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(a.row.nama)+" ("+(0,n.v_)(a.row.sex)+") ",1)])),_:2},1032,["props"]),(0,l.bF)(s,{key:"alamat",props:a,title:a.row.alamat_pendek},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(a.row.alamat_pendek.length>30?a.row.alamat_pendek.substr(0,30)+"â€¦":a.row.alamat_pendek),1)])),_:2},1032,["props","title"]),(0,l.bF)(s,{key:"pendidikan",props:a},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(a.row.kelas)+" "+(0,n.v_)(a.row.tingkat_id)+" "+(0,n.v_)(a.row.no_absen?" ("+String("0"+a.row.no_absen).slice(-2)+")":""),1)])),_:2},1032,["props"]),(0,l.bF)(s,{key:"wali",props:a},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(a.row.wali_nama)+" ("+(0,n.v_)(a.row.wali_status)+"; "+(0,n.v_)(a.row.wali_sex)+") ",1)])),_:2},1032,["props"]),(0,l.bF)(s,{key:"ortu",props:a},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(a.row.ayah)+" | "+(0,n.v_)(a.row.ibu),1)])),_:2},1032,["props"])])),_:2},1032,["props","onClick"])])),_:1},8,["rows","loading","filter"])}}};var p=t(7010),k=t(6067),u=t(3933),_=t(7339),b=t(8785),m=t(272),g=t.n(m);const w=d,f=w;g()(d,"components",{QTable:p.A,QInput:k.A,QIcon:u.A,QTr:_.A,QTd:b.A})}}]);