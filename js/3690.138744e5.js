"use strict";(globalThis["webpackChunkidsantri_app"]=globalThis["webpackChunkidsantri_app"]||[]).push([[3690],{63690:(a,e,l)=>{l.r(e),l.d(e,{default:()=>f});l(67590);var t=l(51347),n=l(37763),i=l(21734),r=l(34187),s=l(60455);const o=(0,t.Lk)("div",{class:"text-subtitle1 text-green-10"},"Data Murid",-1),d={__name:"ContentTable",setup(a){const e=(0,r.KR)(!1),{params:l}=(0,s.lq)(),d=(0,s.rd)(),p=(0,r.KR)([]),_=(0,r.KR)("");function k(a){d.push(`/madrasah/kelas/${a.id}/riwayat`)}(0,t.sV)((async()=>{if(l.th_ajaran_h&&l.tingkat_id&&l.kelas){const a=await(0,i.A)({endPoint:"kelas",params:{th_ajaran_h:l.th_ajaran_h,tingkat_id:l.tingkat_id,kelas:l.kelas},loading:e});p.value=a.murid}else if(l.th_ajaran_h&&l.tingkat_id){const a=await(0,i.A)({endPoint:"kelas",params:{th_ajaran_h:l.th_ajaran_h,tingkat_id:l.tingkat_id},loading:e});p.value=a.murid}else p.value=[]}));const u=[{name:"id",label:"ID Kelas",align:"left",field:"id",sortable:!0},{name:"santri_id",label:"ID Santri",align:"left",field:"santri_id",sortable:!0},{name:"nama",label:"Nama",align:"left",field:"nama",sortable:!0},{name:"alamat",label:"Alamat",align:"left",field:"alamat_pendek",sortable:!0,classes:"alamat"},{name:"pendidikan",label:"Kelas - Tingkat - Absen",align:"left",field:a=>`${a.kelas} ${a.tingkat_id}\n\t\t\t${a.no_absen?" ("+String("0"+a.no_absen).slice(-2)+")":""}`,sortable:!0},{name:"wali",label:"Wali",align:"left",field:"wali_nama",sortable:!0},{name:"ortu",label:"Orang Tua",align:"left",field:a=>`${a.ayah} | ${a.ibu}`,sortable:!0}];return(a,l)=>{const i=(0,t.g2)("q-icon"),r=(0,t.g2)("q-input"),s=(0,t.g2)("q-td"),d=(0,t.g2)("q-tr"),b=(0,t.g2)("q-table");return(0,t.uX)(),(0,t.Wv)(b,{rows:p.value,columns:u,loading:e.value,"rows-per-page-options":[10,25,50,75,100,0],class:"dt",filter:_.value,"no-data-label":"Silakan tentukan Tahun ajaran dan tingkat pendidikan!","no-results-label":"Tidak ditemukan kata kunci yang sesuai dengan pencarian Anda!","row-key":"id",flat:""},{"top-left":(0,t.k6)((()=>[o])),"top-right":(0,t.k6)((()=>[(0,t.bF)(r,{outlined:"",dense:"",debounce:"300",modelValue:_.value,"onUpdate:modelValue":l[0]||(l[0]=a=>_.value=a),placeholder:"Cari"},{append:(0,t.k6)((()=>[(0,t.bF)(i,{name:"search"})])),_:1},8,["modelValue"])])),body:(0,t.k6)((a=>[(0,t.bF)(d,{props:a,onClick:e=>k(a.row),style:{cursor:"pointer"}},{default:(0,t.k6)((()=>[(0,t.bF)(s,{key:"id",props:a},{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(a.row.id),1)])),_:2},1032,["props"]),(0,t.bF)(s,{key:"id",props:a},{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(a.row.santri_id),1)])),_:2},1032,["props"]),(0,t.bF)(s,{key:"nama",props:a},{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(a.row.nama)+" ("+(0,n.v_)(a.row.sex)+") ",1)])),_:2},1032,["props"]),(0,t.bF)(s,{key:"alamat",props:a,title:a.row.alamat_pendek},{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(a.row.alamat_pendek.length>30?a.row.alamat_pendek.substr(0,30)+"â€¦":a.row.alamat_pendek),1)])),_:2},1032,["props","title"]),(0,t.bF)(s,{key:"pendidikan",props:a},{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(a.row.kelas)+" "+(0,n.v_)(a.row.tingkat_id)+" "+(0,n.v_)(a.row.no_absen?" ("+String("0"+a.row.no_absen).slice(-2)+")":""),1)])),_:2},1032,["props"]),(0,t.bF)(s,{key:"wali",props:a},{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(a.row.wali_nama)+" ("+(0,n.v_)(a.row.wali_status)+"; "+(0,n.v_)(a.row.wali_sex)+") ",1)])),_:2},1032,["props"]),(0,t.bF)(s,{key:"ortu",props:a},{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(a.row.ayah)+" | "+(0,n.v_)(a.row.ibu),1)])),_:2},1032,["props"])])),_:2},1032,["props","onClick"])])),_:1},8,["rows","loading","filter"])}}};var p=l(27010),_=l(46395),k=l(93933),u=l(87339),b=l(38785),g=l(272),m=l.n(g);const w=d,f=w;m()(d,"components",{QTable:p.A,QInput:_.A,QIcon:k.A,QTr:u.A,QTd:b.A})}}]);