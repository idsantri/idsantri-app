"use strict";(globalThis["webpackChunkidsantri_app"]=globalThis["webpackChunkidsantri_app"]||[]).push([[4746],{44746:(e,a,l)=>{l.r(a),l.d(a,{default:()=>re});l(67590);var t=l(51347),s=l(37763),n=l(34187),d=l(60455),u=(l(47509),l(20675)),o=l(58094),r=l(10685),p=l(783),i=l(59678);const c=e=>((0,t.Qi)("data-v-11b51b18"),e=e(),(0,t.jt)(),e),b={class:"text-subtitle1"},m=["innerHTML"],k=c((()=>(0,t.Lk)("thead",null,[(0,t.Lk)("tr",null,[(0,t.Lk)("th",{rowspan:"2",class:"text-center"},"No."),(0,t.Lk)("th",{rowspan:"2",class:"text-center"},"ID Santri"),(0,t.Lk)("th",{rowspan:"2",class:"text-center"},"ID Kelas"),(0,t.Lk)("th",{rowspan:"2",class:"text-left"},"Nama"),(0,t.Lk)("th",{colspan:"4",class:"bg-grey-1"},"Pekan-1"),(0,t.Lk)("th",{colspan:"4",class:"bg-green-1"},"Pekan-2"),(0,t.Lk)("th",{colspan:"4",class:"bg-grey-1"},"Pekan-3"),(0,t.Lk)("th",{colspan:"4",class:"bg-green-1"},"Pekan-4"),(0,t.Lk)("th",{colspan:"4",class:"bg-grey-1"},"Pekan-5"),(0,t.Lk)("th",{colspan:"4",class:"bg-green-2"},"Sebulan")]),(0,t.Lk)("tr",null,[(0,t.Lk)("th",{class:"bg-grey-1"},"S"),(0,t.Lk)("th",{class:"bg-grey-1"},"I"),(0,t.Lk)("th",{class:"bg-grey-1"},"A"),(0,t.Lk)("th",{class:"bg-grey-1"},"T"),(0,t.Lk)("th",{class:"bg-green-1"},"S"),(0,t.Lk)("th",{class:"bg-green-1"},"I"),(0,t.Lk)("th",{class:"bg-green-1"},"A"),(0,t.Lk)("th",{class:"bg-green-1"},"T"),(0,t.Lk)("th",{class:"bg-grey-1"},"S"),(0,t.Lk)("th",{class:"bg-grey-1"},"I"),(0,t.Lk)("th",{class:"bg-grey-1"},"A"),(0,t.Lk)("th",{class:"bg-grey-1"},"T"),(0,t.Lk)("th",{class:"bg-green-1"},"S"),(0,t.Lk)("th",{class:"bg-green-1"},"I"),(0,t.Lk)("th",{class:"bg-green-1"},"A"),(0,t.Lk)("th",{class:"bg-green-1"},"T"),(0,t.Lk)("th",{class:"bg-grey-1"},"S"),(0,t.Lk)("th",{class:"bg-grey-1"},"I"),(0,t.Lk)("th",{class:"bg-grey-1"},"A"),(0,t.Lk)("th",{class:"bg-grey-1"},"T"),(0,t.Lk)("th",{class:"bg-green-2"},"S"),(0,t.Lk)("th",{class:"bg-green-2"},"I"),(0,t.Lk)("th",{class:"bg-green-2"},"A"),(0,t.Lk)("th",{class:"bg-green-2"},"T")])],-1))),g={key:0},V=c((()=>(0,t.Lk)("tr",null,[(0,t.Lk)("td",{colspan:"50"},[(0,t.Lk)("div",{class:"text-center text-negative text-body1 text-italic bg-red-1 q-pa-md"}," Tentukan filter! ")])],-1))),L=[V],h={key:1},_={colspan:"50"},x={key:2},y={class:"text-center"},U={class:"text-center"},F={class:"text-center"},v={class:"text-left"},f={class:"bg-grey-1"},N={class:"bg-grey-1"},A={class:"bg-grey-1"},j={class:"bg-grey-1"},w={class:"bg-green-1"},q={class:"bg-green-1"},S={class:"bg-green-1"},T={class:"bg-green-1"},C={class:"bg-grey-1"},I={class:"bg-grey-1"},$={class:"bg-grey-1"},K={class:"bg-grey-1"},P={class:"bg-green-1"},Q={class:"bg-green-1"},E={class:"bg-green-1"},X={class:"bg-green-1"},H={class:"bg-grey-1"},R={class:"bg-grey-1"},D={class:"bg-grey-1"},M={class:"bg-grey-1"},J={class:"bg-green-2"},O={class:"bg-green-2"},z={class:"bg-green-2"},B={class:"bg-green-2"},W=c((()=>(0,t.Lk)("tfoot",null,null,-1))),G=c((()=>(0,t.Lk)("div",{class:"text-caption text-italic text-center"}," S=Sakit; I=Izin; A=Alpa; T=Terlambat ",-1))),Y={__name:"AbsensiInput",setup(e){const a=(0,n.KR)(!1),l=(0,d.lq)(),c=(0,d.rd)(),V=(0,n.KR)(""),Y=(0,n.KR)([]),Z={absensi:l.params.absensi,th_ajaran_h:l.params.th_ajaran_h,tingkat_id:l.params.tingkat_id,kelas:l.params.kelas,set_bulan_ujian:l.params.set_bulan_ujian};async function ee(){const e=Y.value.map((e=>e.kelas_id)),l=Z.set_bulan_ujian,t=await(0,u.A)({endPoint:"absensi/"+Z.absensi,message:'<span style="color:red">Hapus data absensi untuk kelas ini?</span>',params:{bulan_ujian:l,kelas_id:e},loading:a});if(t){Y.value=[];const e=`/madrasah/absensi/input/${Z.absensi}/${Z.th_ajaran_h}/${Z.tingkat_id}/${Z.kelas}`;c.push(e)}}async function ae(){const e={absensi:JSON.parse(JSON.stringify(Y.value))},l=await(0,i.A)({endPoint:`absensi/${Z.absensi}`,data:e,confirm:!0,message:'<span style="color:blue">Kirim data absensi?</span>',loading:a});l?Y.value=l["absensi_"+Z.absensi]:await le()}async function le(){if(Z.th_ajaran_h&&Z.tingkat_id&&Z.kelas&&Z.set_bulan_ujian){const e=await(0,o.A)({endPoint:`absensi/${Z.absensi}`,params:{th_ajaran_h:Z.th_ajaran_h,tingkat_id:Z.tingkat_id,kelas:Z.kelas,bulan_ujian:Z.set_bulan_ujian},notify:!1,loading:a});Y.value=e["absensi_"+Z.absensi]}}return(0,t.sV)((async()=>{await le()})),(e,l)=>{const d=(0,t.g2)("q-card-section"),u=(0,t.g2)("q-skeleton"),o=(0,t.g2)("q-btn"),i=(0,t.g2)("q-input"),c=(0,t.g2)("q-markup-table"),le=(0,t.g2)("q-card");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)(r.A,{"show-set-bulan-ujian":!0,"start-url":`/madrasah/absensi/input/${Z.absensi}`,onDataFilter:l[0]||(l[0]=e=>V.value=e)},null,8,["start-url"]),(0,t.bF)(le,{class:"q-mt-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(d,{class:"bg-green-7 text-green-1 text-subtitle1 q-px-sm q-py-xs"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",b,[(0,t.eW)(" ➡️ "),(0,t.Lk)("strong",null," Absensi "+(0,s.v_)((0,n.R1)(p.nx)(Z.absensi)),1)])])),_:1}),(0,t.bF)(d,{class:"bg-green-3 text-green-10 text-subtitle1 q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",null,[(0,t.Lk)("span",{innerHTML:V.value||"Tentukan filter!"},null,8,m)])])),_:1}),(0,t.bF)(d,{class:"no-padding"},{default:(0,t.k6)((()=>[(0,t.bF)(c,{flat:""},{default:(0,t.k6)((()=>[k,Z.th_ajaran_h&&Z.tingkat_id&&Z.kelas&&Z.set_bulan_ujian?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("tbody",g,L)),a.value?((0,t.uX)(),(0,t.CE)("tbody",h,[(0,t.Lk)("tr",null,[(0,t.Lk)("td",_,[(0,t.bF)(u,{height:"50px"})])])])):((0,t.uX)(),(0,t.CE)("tbody",x,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Y.value,((a,l)=>((0,t.uX)(),(0,t.CE)("tr",{key:l},[(0,t.Lk)("td",y,(0,s.v_)(a.no_absen?a.no_absen.toString().padStart(2,0):""),1),(0,t.Lk)("td",U,(0,s.v_)(a.santri_id),1),(0,t.Lk)("td",F,[(0,t.bF)(o,{flat:"",dense:"","no-caps":"",class:"text-green-10 bg-green-11 q-px-sm",style:{"min-width":"50px"},onClick:l=>e.$router.push(`/madrasah/kelas/${a.kelas_id}/riwayat`)},{default:(0,t.k6)((()=>[(0,t.Lk)("small",null,(0,s.v_)(a.kelas_id),1)])),_:2},1032,["onClick"])]),(0,t.Lk)("td",v,(0,s.v_)(a.nama),1),(0,t.Lk)("td",f,[(0,t.bF)(i,{outlined:"",dense:"",modelValue:a.p1s,"onUpdate:modelValue":e=>a.p1s=e,"input-class":"text-center",mask:"##"},null,8,["modelValue","onUpdate:modelValue"])]),(0,t.Lk)("td",N,[(0,t.bF)(i,{outlined:"",dense:"",modelValue:a.p1i,"onUpdate:modelValue":e=>a.p1i=e,"input-class":"text-center",mask:"##"},null,8,["modelValue","onUpdate:modelValue"])]),(0,t.Lk)("td",A,[(0,t.bF)(i,{outlined:"",dense:"",modelValue:a.p1a,"onUpdate:modelValue":e=>a.p1a=e,"input-class":"text-center",mask:"##"},null,8,["modelValue","onUpdate:modelValue"])]),(0,t.Lk)("td",j,[(0,t.bF)(i,{outlined:"",dense:"",modelValue:a.p1t,"onUpdate:modelValue":e=>a.p1t=e,"input-class":"text-center",mask:"##"},null,8,["modelValue","onUpdate:modelValue"])]),(0,t.Lk)("td",w,[(0,t.bF)(i,{outlined:"",dense:"",modelValue:a.p2s,"onUpdate:modelValue":e=>a.p2s=e,"input-class":"text-center",mask:"##"},null,8,["modelValue","onUpdate:modelValue"])]),(0,t.Lk)("td",q,[(0,t.bF)(i,{outlined:"",dense:"",modelValue:a.p2i,"onUpdate:modelValue":e=>a.p2i=e,"input-class":"text-center",mask:"##"},null,8,["modelValue","onUpdate:modelValue"])]),(0,t.Lk)("td",S,[(0,t.bF)(i,{outlined:"",dense:"",modelValue:a.p2a,"onUpdate:modelValue":e=>a.p2a=e,"input-class":"text-center",mask:"##"},null,8,["modelValue","onUpdate:modelValue"])]),(0,t.Lk)("td",T,[(0,t.bF)(i,{outlined:"",dense:"",modelValue:a.p2t,"onUpdate:modelValue":e=>a.p2t=e,"input-class":"text-center",mask:"##"},null,8,["modelValue","onUpdate:modelValue"])]),(0,t.Lk)("td",C,[(0,t.bF)(i,{outlined:"",dense:"",modelValue:a.p3s,"onUpdate:modelValue":e=>a.p3s=e,"input-class":"text-center",mask:"##"},null,8,["modelValue","onUpdate:modelValue"])]),(0,t.Lk)("td",I,[(0,t.bF)(i,{outlined:"",dense:"",modelValue:a.p3i,"onUpdate:modelValue":e=>a.p3i=e,"input-class":"text-center",mask:"##"},null,8,["modelValue","onUpdate:modelValue"])]),(0,t.Lk)("td",$,[(0,t.bF)(i,{outlined:"",dense:"",modelValue:a.p3a,"onUpdate:modelValue":e=>a.p3a=e,"input-class":"text-center",mask:"##"},null,8,["modelValue","onUpdate:modelValue"])]),(0,t.Lk)("td",K,[(0,t.bF)(i,{outlined:"",dense:"",modelValue:a.p3t,"onUpdate:modelValue":e=>a.p3t=e,"input-class":"text-center",mask:"##"},null,8,["modelValue","onUpdate:modelValue"])]),(0,t.Lk)("td",P,[(0,t.bF)(i,{outlined:"",dense:"",modelValue:a.p4s,"onUpdate:modelValue":e=>a.p4s=e,"input-class":"text-center",mask:"##"},null,8,["modelValue","onUpdate:modelValue"])]),(0,t.Lk)("td",Q,[(0,t.bF)(i,{outlined:"",dense:"",modelValue:a.p4i,"onUpdate:modelValue":e=>a.p4i=e,"input-class":"text-center",mask:"##"},null,8,["modelValue","onUpdate:modelValue"])]),(0,t.Lk)("td",E,[(0,t.bF)(i,{outlined:"",dense:"",modelValue:a.p4a,"onUpdate:modelValue":e=>a.p4a=e,"input-class":"text-center",mask:"##"},null,8,["modelValue","onUpdate:modelValue"])]),(0,t.Lk)("td",X,[(0,t.bF)(i,{outlined:"",dense:"",modelValue:a.p4t,"onUpdate:modelValue":e=>a.p4t=e,"input-class":"text-center",mask:"##"},null,8,["modelValue","onUpdate:modelValue"])]),(0,t.Lk)("td",H,[(0,t.bF)(i,{outlined:"",dense:"",modelValue:a.p5s,"onUpdate:modelValue":e=>a.p5s=e,"input-class":"text-center",mask:"##"},null,8,["modelValue","onUpdate:modelValue"])]),(0,t.Lk)("td",R,[(0,t.bF)(i,{outlined:"",dense:"",modelValue:a.p5i,"onUpdate:modelValue":e=>a.p5i=e,"input-class":"text-center",mask:"##"},null,8,["modelValue","onUpdate:modelValue"])]),(0,t.Lk)("td",D,[(0,t.bF)(i,{outlined:"",dense:"",modelValue:a.p5a,"onUpdate:modelValue":e=>a.p5a=e,"input-class":"text-center",mask:"##"},null,8,["modelValue","onUpdate:modelValue"])]),(0,t.Lk)("td",M,[(0,t.bF)(i,{outlined:"",dense:"",modelValue:a.p5t,"onUpdate:modelValue":e=>a.p5t=e,"input-class":"text-center",mask:"##"},null,8,["modelValue","onUpdate:modelValue"])]),(0,t.Lk)("td",J,[(0,t.bF)(i,{outlined:"",dense:"","model-value":Number(a.p1s)+Number(a.p2s)+Number(a.p3s)+Number(a.p4s)+Number(a.p5s),readonly:"","input-class":"text-center",mask:"##"},null,8,["model-value"])]),(0,t.Lk)("td",O,[(0,t.bF)(i,{outlined:"",dense:"","model-value":Number(a.p1i)+Number(a.p2i)+Number(a.p3i)+Number(a.p4i)+Number(a.p5i),readonly:"","input-class":"text-center",mask:"##"},null,8,["model-value"])]),(0,t.Lk)("td",z,[(0,t.bF)(i,{outlined:"",dense:"","model-value":Number(a.p1a)+Number(a.p2a)+Number(a.p3a)+Number(a.p4a)+Number(a.p5a),readonly:"","input-class":"text-center",mask:"##"},null,8,["model-value"])]),(0,t.Lk)("td",B,[(0,t.bF)(i,{outlined:"",dense:"","model-value":Number(a.p1t)+Number(a.p2t)+Number(a.p3t)+Number(a.p4t)+Number(a.p5t),class:"text-center",readonly:"","input-class":"text-center",mask:"##"},null,8,["model-value"])])])))),128))])),W])),_:1})])),_:1}),(0,t.bF)(d,{class:"bg-green-6 text-green-11 text-subtitle1 q-pa-sm full-width row no-wrap justify-between items-center content-center"},{default:(0,t.k6)((()=>[(0,t.bF)(o,{dense:"",class:"q-px-md","no-caps":"",label:"Hapus",color:"negative",onClick:ee}),G,(0,t.bF)(o,{dense:"",class:"q-px-md","no-caps":"",onClick:ae,label:"Kirim",color:"green-10"})])),_:1})])),_:1})],64)}}};var Z=l(32968),ee=l(83341),ae=l(60222),le=l(94362),te=l(70981),se=l(22677),ne=l(46395),de=l(272),ue=l.n(de);const oe=(0,Z.A)(Y,[["__scopeId","data-v-11b51b18"]]),re=oe;ue()(Y,"components",{QCard:ee.A,QCardSection:ae.A,QMarkupTable:le.A,QSkeleton:te.Ay,QBtn:se.A,QInput:ne.A})}}]);