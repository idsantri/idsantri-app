"use strict";(globalThis["webpackChunkidsantri_app"]=globalThis["webpackChunkidsantri_app"]||[]).push([[8723],{8723:(a,e,l)=>{l.r(e),l.d(e,{default:()=>$});var t=l(1347),n=l(7763),u=l(1734),o=l(2010),d=l(4187),s=l(8633),i=l(2364),c=l(6397),r=l(8158),p=l(7543);const m={key:0},g={__name:"MapelCrud",props:{data:{type:Object,required:!0},title:{type:String,default:()=>"Input"}},emits:["successSubmit","successDelete"],setup(a,{emit:e}){const l=a,u=e,g=(0,d.KR)({status_fan:"Fan Dasar",show:1}),b=(0,d.KR)([]),k=(0,d.KR)([]),v=(0,d.KR)(!1);(0,t.sV)((async()=>{Object.assign(g.value,l.data),await(0,o.nQ)({key:"tingkat-pendidikan",loading:k,lists:b,sort:!0})}));const _=async()=>{const a={id:g.value.id,tingkat_id:g.value.tingkat_id,mapel:g.value.mapel,mata_pelajaran:g.value.mata_pelajaran,status_fan:g.value.status_fan,show:g.value.show};let e=null;e=l.data.id?await(0,c.A)({endPoint:`mapel/${l.data.id}`,data:a,confirm:!0,notify:!0,loading:v}):await(0,r.A)({endPoint:"mapel",data:a,loading:v}),e&&(document.getElementById("btn-close-crud").click(),u("successSubmit"))},f=async()=>{const a=await(0,p.A)({endPoint:`mapel/${l.data.id}`,loading:v,rerender:!1});a&&(document.getElementById("btn-close-crud").click(),u("successDelete"))};return(a,e)=>{const u=(0,t.g2)("q-card-section"),o=(0,t.g2)("q-spinner-cube"),d=(0,t.g2)("q-dialog"),c=(0,t.g2)("q-input"),r=(0,t.g2)("q-select"),p=(0,t.g2)("q-toggle"),F=(0,t.g2)("q-card"),q=(0,t.g2)("q-btn"),A=(0,t.g2)("q-space"),h=(0,t.g2)("q-card-actions"),V=(0,t.g2)("q-form"),Q=(0,t.gN)("close-popup");return(0,t.uX)(),(0,t.Wv)(F,{class:"full-width",style:{"max-width":"425px"}},{default:(0,t.k6)((()=>[(0,t.bF)(V,{onSubmit:(0,s.D$)(_,["prevent"])},{default:(0,t.k6)((()=>[(0,t.bF)(u,{class:"bg-green-7 text-green-11 q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(i.A,{onEmitButton:a=>null},{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(l.title)+" — ",1),(0,t.Lk)("em",null,(0,n.v_)(g.value.id?"edit":"baru"),1)])),_:1})])),_:1}),(0,t.bF)(u,null,{default:(0,t.k6)((()=>[v.value?((0,t.uX)(),(0,t.CE)("div",m,[(0,t.bF)(d,{modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=a=>v.value=a),persistent:""},{default:(0,t.k6)((()=>[(0,t.bF)(o,{color:"green-12",size:"8em",class:"flex q-ma-lg q-mx-auto"})])),_:1},8,["modelValue"])])):(0,t.Q3)("",!0),(0,t.bF)(c,{dense:"",outlined:"",label:"Kode/ID Mapel",modelValue:g.value.id,"onUpdate:modelValue":e[1]||(e[1]=a=>g.value.id=a)},null,8,["modelValue"]),(0,t.bF)(r,{dense:"",class:"q-mt-sm",outlined:"",label:"Tingkat Pendidikan","emit-value":"","map-options":"",modelValue:g.value.tingkat_id,"onUpdate:modelValue":e[2]||(e[2]=a=>g.value.tingkat_id=a),options:b.value["tingkat-pendidikan"],loading:k.value["tingkat-pendidikan"],clearable:"",behavior:"menu","option-value":"val0","option-label":"val1"},null,8,["modelValue","options","loading"]),(0,t.bF)(c,{dense:"",class:"q-mt-sm",outlined:"",label:"Mata Pelajaran",modelValue:g.value.mapel,"onUpdate:modelValue":e[3]||(e[3]=a=>g.value.mapel=a)},null,8,["modelValue"]),(0,t.bF)(c,{dense:"",class:"q-mt-sm",outlined:"",label:"Mata Pelajaran (Alias)",modelValue:g.value.mata_pelajaran,"onUpdate:modelValue":e[4]||(e[4]=a=>g.value.mata_pelajaran=a)},null,8,["modelValue"]),(0,t.bF)(r,{dense:"",class:"q-mt-sm",outlined:"",label:"Tingkat Pendidikan","emit-value":"","map-options":"",modelValue:g.value.status_fan,"onUpdate:modelValue":e[5]||(e[5]=a=>g.value.status_fan=a),options:["Fan Pokok","Fan Dasar","Fan Tambahan"],behavior:"menu"},null,8,["modelValue"]),(0,t.bF)(F,{bordered:"",flat:"",class:"q-px-sm q-mt-sm"},{default:(0,t.k6)((()=>[(0,t.eW)(" Tampilkan: "),(0,t.bF)(p,{modelValue:g.value.show,"onUpdate:modelValue":e[6]||(e[6]=a=>g.value.show=a),color:"green","true-value":1,"false-value":0},null,8,["modelValue"])])),_:1})])),_:1}),(0,t.bF)(h,{class:"flex bg-green-6"},{default:(0,t.k6)((()=>[(0,t.bo)((0,t.bF)(q,{label:"Hapus",class:"bg-red text-red-1","no-caps":"",onClick:f},null,512),[[s.aG,g.value.id]]),(0,t.bF)(A),(0,t.bo)((0,t.bF)(q,{label:"Tutup",class:"bg-green-11","no-caps":"",id:"btn-close-crud"},null,512),[[Q]]),(0,t.bF)(q,{type:"submit",label:"Simpan",class:"bg-green-10 text-green-11","no-caps":""})])),_:1})])),_:1})])),_:1})}}};var b=l(3341),k=l(3417),v=l(222),_=l(45),f=l(1402),F=l(6067),q=l(6199),A=l(5725),h=l(5034),V=l(2677),Q=l(5873),y=l(1038),x=l(272),w=l.n(x);const C=g,L=C;w()(g,"components",{QCard:b.A,QForm:k.A,QCardSection:v.A,QDialog:_.A,QSpinnerCube:f.A,QInput:F.A,QSelect:q.A,QToggle:A.A,QCardActions:h.A,QBtn:V.A,QSpace:Q.A}),w()(g,"directives",{ClosePopup:y.A});const P=(0,t.Lk)("thead",null,[(0,t.Lk)("tr",{class:"text-left"},[(0,t.Lk)("th",null,"Kode/ID"),(0,t.Lk)("th",null,"Mapel"),(0,t.Lk)("th",null,"Mata Pelajaran"),(0,t.Lk)("th",null,"Status Fan"),(0,t.Lk)("th",null,"Tampil"),(0,t.Lk)("th",{class:"text-center"},"Edit")])],-1),T={key:0},S={colspan:"5"},K={key:1},j=(0,t.Lk)("td",{colspan:"5",class:"text-center text-green-10 text-italic"},[(0,t.eW)(" — Tidak ada data untuk ditampilkan — "),(0,t.Lk)("br"),(0,t.eW)(" — Pilih Tingkat Pendidikan — ")],-1),D=[j],R={class:"text-center"},M={__name:"MapelIndex",setup(a){const e=(0,d.KR)([]),l=(0,d.KR)(""),s=(0,d.KR)(!1),i=(0,d.KR)([]),c=(0,d.KR)([]),r=(0,d.KR)({}),p=(0,d.KR)(!1);async function m(){const a=await(0,u.A)({endPoint:"mapel",loading:s,params:{tingkat_id:l.value}});e.value=a.mapel}function g(a){r.value=a,p.value=!0}function b(){r.value={},p.value=!0}return(0,t.sV)((async()=>{await(0,o.nQ)({key:"tingkat-pendidikan",loading:c,lists:i,sort:!0})})),(0,t.wB)(l,(async()=>{await m()})),(a,u)=>{const o=(0,t.g2)("q-toolbar-title"),d=(0,t.g2)("q-btn"),k=(0,t.g2)("q-select"),v=(0,t.g2)("q-toolbar"),_=(0,t.g2)("q-card-section"),f=(0,t.g2)("q-skeleton"),F=(0,t.g2)("q-toggle"),q=(0,t.g2)("q-markup-table"),A=(0,t.g2)("q-card"),h=(0,t.g2)("q-dialog"),V=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(V,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(A,null,{default:(0,t.k6)((()=>[(0,t.bF)(_,{class:"bg-green-8 text-green-11 q-px-sm q-py-none"},{default:(0,t.k6)((()=>[(0,t.bF)(v,{class:"no-padding no-margin"},{default:(0,t.k6)((()=>[(0,t.bF)(o,{class:"text-subtitle1"},{default:(0,t.k6)((()=>[(0,t.eW)(" Daftar Mata Pelajaran ")])),_:1}),(0,t.bF)(d,{class:"q-mr-sm text-green-10",label:"Baru",icon:"add","no-caps":"",color:"green-11",onClick:b}),(0,t.bF)(k,{style:{width:"200px"},dense:"","bg-color":"green-1",outlined:"",label:"Tingkat Pendidikan",modelValue:l.value,"onUpdate:modelValue":u[0]||(u[0]=a=>l.value=a),options:i.value["tingkat-pendidikan"],"option-value":"val0","option-label":"val1","emit-value":"","map-options":"",loading:c.value["tingkat-pendidikan"],behavior:"menu"},null,8,["modelValue","options","loading"])])),_:1})])),_:1}),(0,t.bF)(_,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(q,{flat:""},{default:(0,t.k6)((()=>[P,(0,t.Lk)("tbody",null,[s.value?((0,t.uX)(),(0,t.CE)("tr",T,[(0,t.Lk)("td",S,[(0,t.bF)(f,{height:"50px"})])])):0==e.value.length?((0,t.uX)(),(0,t.CE)("tr",K,D)):((0,t.uX)(!0),(0,t.CE)(t.FK,{key:2},(0,t.pI)(e.value,(a=>((0,t.uX)(),(0,t.CE)("tr",{key:a.id},[(0,t.Lk)("td",null,(0,n.v_)(a.id),1),(0,t.Lk)("td",null,(0,n.v_)(a.mapel),1),(0,t.Lk)("td",null,(0,n.v_)(a.mata_pelajaran),1),(0,t.Lk)("td",null,(0,n.v_)(a.status_fan),1),(0,t.Lk)("td",null,[(0,t.bF)(F,{"model-value":!!a.show,color:"green",disable:""},null,8,["model-value"])]),(0,t.Lk)("td",R,[(0,t.bF)(d,{icon:"edit",flat:"",color:"green",onClick:e=>g(a)},null,8,["onClick"])])])))),128))])])),_:1})])),_:1})])),_:1}),(0,t.bF)(h,{modelValue:p.value,"onUpdate:modelValue":u[1]||(u[1]=a=>p.value=a)},{default:(0,t.k6)((()=>[(0,t.bF)(L,{data:r.value,title:"Input Mata Pelajaran",onSuccessSubmit:m,onSuccessDelete:m},null,8,["data"])])),_:1},8,["modelValue"])])),_:1})}}};var E=l(5013),I=l(6739),U=l(4629),B=l(4362),W=l(981);const X=M,$=X;w()(M,"components",{QPage:E.A,QCard:b.A,QCardSection:v.A,QToolbar:I.A,QToolbarTitle:U.A,QBtn:V.A,QSelect:q.A,QMarkupTable:B.A,QSkeleton:W.Ay,QToggle:A.A,QDialog:_.A})}}]);