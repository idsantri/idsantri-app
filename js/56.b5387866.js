"use strict";(globalThis["webpackChunkidsantri_app"]=globalThis["webpackChunkidsantri_app"]||[]).push([[56],{56:(a,e,l)=>{l.r(e),l.d(e,{default:()=>A});var i=l(1347),n=l(8633),s=l(1734),t=l(2010),u=l(575),o=l(4187);const r=(0,i.Lk)("div",{tag:"h1",class:"text-subtitle1"},"Download Nilai",-1),d={__name:"DownloadPage",setup(a){const{loadingMain:e}=(0,o.QW)((0,u.A)()),l=(0,o.KR)({}),d=(0,o.KR)([]),p=(0,o.KR)([]),c=[{value:"ujian",label:"Nilai Ujian"},{value:"harian",label:"Nilai Harian"},{value:"rapor",label:"Nilai Rapor"},{value:"ijazah",label:"Nilai Ijazah"}];async function m(){const a=JSON.parse(JSON.stringify(l.value)),i=await(0,s.A)({endPoint:"nilai-mapel/export",loading:e,params:a});if(i){let a=document.createElement("a");a.href=i.url,a.click(),a.remove()}}return(0,i.sV)((async()=>{await(0,t.HA)({loading:d,lists:p,key:"th_ajaran_h",url:"kelas/lists",sort:"desc"})})),(0,i.wB)((()=>l.value.th_ajaran_h),(async a=>{l.value.tingkat_id="",l.value.kelas="",a?await(0,t.HA)({loading:d,lists:p,key:"tingkat",url:"kelas/lists",sort:"asc",params:{th_ajaran_h:a}}):p.value["tingkat"]=[],p.value["kelas"]=[]})),(0,i.wB)((()=>l.value.tingkat_id),(async a=>{l.value.kelas="",a?await(0,t.HA)({loading:d,lists:p,key:"kelas",url:"kelas/lists",sort:"asc",params:{th_ajaran_h:l.value.th_ajaran_h,tingkat_id:a}}):p.value["kelas"]=[]})),(a,e)=>{const s=(0,i.g2)("q-space"),t=(0,i.g2)("q-btn"),u=(0,i.g2)("q-card-section"),o=(0,i.g2)("q-select"),g=(0,i.g2)("q-input"),b=(0,i.g2)("q-card-actions"),k=(0,i.g2)("q-card"),v=(0,i.g2)("q-form"),_=(0,i.g2)("q-page");return(0,i.uX)(),(0,i.Wv)(_,{class:"q-pa-sm"},{default:(0,i.k6)((()=>[(0,i.bF)(k,null,{default:(0,i.k6)((()=>[(0,i.bF)(u,{class:"q-pa-sm bg-green-8 text-green-11 flex"},{default:(0,i.k6)((()=>[r,(0,i.bF)(s),(0,i.bF)(t,{label:"Kembali",to:"/madrasah/nilai-mapel",dense:"",outline:"","no-caps":"",icon:"arrow_back",class:"q-px-sm q-mr-md"}),(0,i.bF)(t,{label:"Upload",to:"/madrasah/nilai-mapel/upload",dense:"",outline:"","no-caps":"",icon:"upload",class:"q-px-sm"})])),_:1}),(0,i.bF)(u,{class:"q-pa-sm"},{default:(0,i.k6)((()=>[(0,i.bF)(v,{onSubmit:(0,n.D$)(m,["prevent"])},{default:(0,i.k6)((()=>[(0,i.bF)(k,{style:{"max-width":"425px"}},{default:(0,i.k6)((()=>[(0,i.bF)(u,{class:"q-pa-sm"},{default:(0,i.k6)((()=>[(0,i.bF)(o,{dense:"",class:"",outlined:"",label:"Tahun Ajaran","emit-value":"","map-options":"",modelValue:l.value.th_ajaran_h,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.th_ajaran_h=a),options:p.value["th_ajaran_h"],loading:d.value["th_ajaran_h"],clearable:"",behavior:"menu",required:"",rules:[a=>!!a||"Harus diisi!"]},null,8,["modelValue","options","loading","rules"]),(0,i.bF)(o,{dense:"",class:"",outlined:"",label:"Tingkat Pendidikan","emit-value":"","map-options":"","option-value":"tingkat_id","option-label":"tingkat",modelValue:l.value.tingkat_id,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.tingkat_id=a),options:p.value["tingkat"],loading:d.value["tingkat"],clearable:"",behavior:"menu",required:"",rules:[a=>!!a||"Harus diisi!"]},null,8,["modelValue","options","loading","rules"]),(0,i.bF)(o,{dense:"",class:"",outlined:"",label:"Kelas","emit-value":"","map-options":"",modelValue:l.value.kelas,"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.kelas=a),options:p.value["kelas"],loading:d.value["kelas"],clearable:"",behavior:"menu",required:"",rules:[a=>!!a||"Harus diisi!"]},null,8,["modelValue","options","loading","rules"]),(0,i.bF)(o,{dense:"",class:"q-mt-sm",outlined:"",label:"Kategori Nilai",modelValue:l.value.category,"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.category=a),behavior:"menu",required:"",options:c,"emit-value":"","map-options":"",rules:[a=>!!a||"Harus diisi!"]},null,8,["modelValue","rules"]),(0,i.bF)(g,{dense:"",class:"q-mt-sm",outlined:"",label:"Ujian Ke",modelValue:l.value.ujian_ke,"onUpdate:modelValue":e[4]||(e[4]=a=>l.value.ujian_ke=a),required:"",type:"number",rules:[a=>a>0&&a<5||"antara 1 s.d. 4"]},null,8,["modelValue","rules"])])),_:1}),(0,i.bF)(b,{class:"bg-green-6",align:"right"},{default:(0,i.k6)((()=>[(0,i.bF)(t,{class:"",type:"submit",label:"Download",icon:"download",color:"green-11","no-caps":"",outline:"",dense:""})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}};var p=l(5013),c=l(3341),m=l(222),g=l(5873),b=l(2677),k=l(3417),v=l(4611),_=l(6395),h=l(5034),q=l(272),j=l.n(q);const F=d,A=F;j()(d,"components",{QPage:p.A,QCard:c.A,QCardSection:m.A,QSpace:g.A,QBtn:b.A,QForm:k.A,QSelect:v.A,QInput:_.A,QCardActions:h.A})}}]);