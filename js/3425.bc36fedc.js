"use strict";(globalThis["webpackChunkidsantri_app"]=globalThis["webpackChunkidsantri_app"]||[]).push([[3425],{63425:(a,e,n)=>{n.r(e),n.d(e,{default:()=>k});var l=n(51347),s=n(34187),u=n(95455),t=n(69463),i=n(35225),d=n(60455),o=n(21734);const r={__name:"SantriKelas",setup(a){const e=(0,s.KR)(!1),n=(0,s.KR)(!1),r=(0,s.KR)({}),v=(0,s.KR)([]),c=(0,s.KR)([]),p=(0,s.KR)(!1),m=(0,s.KR)({}),k=(0,d.lq)(),_=k.params.id;async function K(){const a=await(0,o.A)({endPoint:`santri/${_}/kelas`,loading:e});c.value=a.kelas,v.value=a.kelas.map((a=>({"Tahun Ajaran":`${a.th_ajaran_h}  |  ${a.th_ajaran_m||""} `,Kelas:`${a.kelas} ${a.tingkat}`+(a.no_absen?` (No. ${a.no_absen})`:""),Keterangan:a.keterangan||"-",id:a.id}))).reverse(),m.value=a.santri}(0,l.sV)((async()=>{await K()}));const b=()=>{r.value={santri_id:m.value.id,nama:m.value.nama},p.value=!0,n.value=!0},h=({id:a})=>{r.value=(0,t.I$)(c,a),r.value.santri_id=m.value.id,r.value.nama=m.value.nama,p.value=!1,n.value=!0};return(a,s)=>{const t=(0,l.g2)("q-dialog");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.bF)(u.A,{data:v.value,spinner:e.value,link:"/madrasah/kelas",onAdd:b,onEdit:h},null,8,["data","spinner"]),(0,l.bF)(t,{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=a=>n.value=a)},{default:(0,l.k6)((()=>[(0,l.bF)(i.A,{data:r.value,"is-new":p.value,title:"Input Kelas",onSuccessSubmit:K,onSuccessDelete:K},null,8,["data","is-new"])])),_:1},8,["modelValue"])])}}};var v=n(30045),c=n(272),p=n.n(c);const m=r,k=m;p()(r,"components",{QDialog:v.A})}}]);